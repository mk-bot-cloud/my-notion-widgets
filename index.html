<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Deep Thought Layer</title>
    <style>
        :root { --bg: #ffffff; --text: #191919; --accent: #2383e2; --layer-bg: #f5f5f7; }
        @media (prefers-color-scheme: dark) {
            :root { --bg: #191919; --text: #efefef; --layer-bg: #222; }
        }
        body { background: var(--bg); color: var(--text); font-family: system-ui, sans-serif; margin: 0; padding: 15px; display: flex; flex-direction: column; gap: 10px; height: 100vh; box-sizing: border-box; }
        .layer { flex: 1; display: flex; flex-direction: column; border-radius: 8px; border: 1px solid rgba(128,128,128,0.2); overflow: hidden; }
        .label { font-size: 10px; font-weight: bold; padding: 5px 10px; background: var(--layer-bg); color: #888; text-transform: uppercase; letter-spacing: 0.1em; }
        textarea { flex: 1; background: transparent; border: none; color: inherit; padding: 10px; resize: none; outline: none; font-size: 14px; line-height: 1.6; }
        .top { border-left: 4px solid #ff4b2b; } /* 抽象：つまり？ */
        .mid { border-left: 4px solid var(--accent); } /* 本質：キーワード */
        .btm { border-left: 4px solid #00d2ff; } /* 具体：根拠・事例 */
    </style>
</head>
<body>

    <div class="layer top">
        <div class="label">Abstract / Conclusion（結局、何が言える？）</div>
        <textarea id="abs" placeholder="ここには『結論』や『タイトル』を..."></textarea>
    </div>

    <div class="layer mid">
        <div class="label">Core Logic / Mechanism（その理屈、メカニズムは？）</div>
        <textarea id="core" placeholder="ここには『思考の核』や『キーワード』を..."></textarea>
    </div>

    <div class="layer btm">
        <div class="label">Evidence / Cases（具体的なデータ、先行研究、症例は？）</div>
        <textarea id="evid" placeholder="ここには『エビデンス』や『生データ』を..."></textarea>
    </div>

    <script>
        const ids = ['abs', 'core', 'evid'];
        ids.forEach(id => {
            const el = document.getElementById(id);
            if(localStorage.getItem(id)) el.value = localStorage.getItem(id);
            el.addEventListener('input', () => localStorage.setItem(id, el.value));
        });
    </script>
</body>
</html>
