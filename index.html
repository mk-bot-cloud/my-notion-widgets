<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Output Streamer</title>
    <style>
        :root { --bg: #ffffff; --text: #191919; --accent: #e91e63; }
        @media (prefers-color-scheme: dark) {
            :root { --bg: #191919; --text: #efefef; }
        }
        body { background: var(--bg); color: var(--text); font-family: "Inter", sans-serif; margin: 0; padding: 20px; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        .stream-container { flex: 1; overflow-y: auto; padding-right: 10px; display: flex; flex-direction: column-reverse; }
        .chunk { font-size: 1.8rem; font-weight: 800; line-height: 1.1; margin-bottom: 20px; opacity: 0.3; transition: 0.3s; }
        .chunk.active { opacity: 1; color: var(--accent); }
        .footer { height: 60px; border-top: 1px solid rgba(128,128,128,0.2); display: flex; align-items: center; gap: 15px; }
        #input-field { flex: 1; background: transparent; border: none; color: inherit; font-size: 1rem; outline: none; }
        .status { font-size: 10px; font-weight: bold; text-transform: uppercase; color: #888; }
    </style>
</head>
<body>
    <div class="stream-container" id="stream">
        <div class="chunk active">さあ、思考を言葉にして打ち込んで。</div>
    </div>
    <div class="footer">
        <input type="text" id="input-field" placeholder="書かずに、吐き出す..." autofocus>
        <div class="status">Live Flow</div>
    </div>

    <script>
        const input = document.getElementById('input-field');
        const stream = document.getElementById('stream');

        input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && input.value.trim() !== '') {
                // 前の文字を薄くする
                const oldActive = document.querySelector('.chunk.active');
                if(oldActive) oldActive.classList.remove('active');

                // 新しい文字を追加
                const div = document.createElement('div');
                div.className = 'chunk active';
                div.innerText = input.value;
                stream.prepend(div);

                input.value = '';
                
                // 溜まった文字はクリックでコピー可能に
                div.onclick = () => {
                    navigator.clipboard.writeText(div.innerText);
                    div.style.color = '#4caf50';
                };
            }
        });
    </script>
</body>
</html>
